{% extends "base.html.twig" %}

{% block title %}<title>Modifier une annonce</title>{% endblock title %}

{% block content %}

<main>
  <div class="container pt-5">
    <div class="container-fluid bk-c p-4 mb-5">
      <p class="h1">Re-bonjour !</p>
      <p class="w-50 border rounded p-1">Vous venez de déposer une annonce. </br>
        Vous pouvez choisir de la laisser telle qu'elle est, ou,
        de la modifier via le formulaire ci-dessous :
      </p>


      <!-- FORM -->
      <form class="form-horizontal m-3">

        <div class="row">

          <!-- COL: NOM / PRENOM / EMAIL / TEL / CAT / TITRE / PRIX -->
          <div class="col-6">

            <!--NOM-->
            <div class="form-group">
              <label for ="nom">Nom</label>
              <input type="text" class="form-control" name="nom" value="{{ infos.nom }}" >
            </div>

            <!--PRENOM-->
            <div class="form-group">
              <label for="prenom">Prénom</label>
              <input type="text" class="form-control" name="prenom" value ="{{ infos.prenom }}" >
            </div>

            <!--EMAIL-->
            <div class="form-group">
              <label for="courriel">Email</label>
              <input id="courriel" type="email" class="form-control" name="courriel" value="{{ infos.courriel }}" placeholder="" required>
              <span id="textEmail"></span>
            </div>

            <!--TEL-->
            <div class="form-group">
              <label for ="telephone">Téléphone</label>
              <input id="telephone" type="tel" class="form-control" name="telephone" value="{{ infos.telephone }}" placeholder="" required>
              <span id="textTel"></span>
            </div>

            <!--CATEGORIES-->
            <div class="form-group">
              <label for="inputCat">Catégories</label>
              <select class="form-control" name="categorie" value="{{ infos.id_categorie}}">
                <option value ="{{ infos.id_categorie}}" disabled selected="{{ infos.id_categorie}}">Choisissez...</option>
                <option value ="1">Affaires professionnelles</option>
                <option value ="2">Animaux</option>
                <option value ="3">Auto-Moto</option>
                <option value ="4">Emploi</option>
                <option value ="5">Immobilier</option>
                <option value ="6">Services</option>
                <option value ="7">Vacances</option>
                <option value ="8">Autres ...</option>
              </select>
            </div>

            <!--TITRE-->
            <div class="form-group">
              <label for ="titre">Titre</label>
              <input id="titre" type="text" class="form-control" name="titre" value="{{ infos.titre }}" placeholder="" required>
              <span id="textTitre"></span>
            </div>

            <!--PRIX-->
            <div class="form-group">
              <label for ="prix">Prix en euros (€)</label>
              <input id="prix" type="text" class="form-control" name="prix" value=" {{ infos.prix }}" placeholder=" " >
              <span id="textPrix"></span>
            </div>

          </div>


          <!-- COL : IMAGE / NOUVELLE IMAGE -->
          <div class="col-6">


            <!-- IMAGE -->
            <div class="form-row my-5">
              <img src="{{ basepath }}/{{ infos.img_url }}" id="img-annonce" class="rounded mx-auto" alt="image de l annonce">
            </div>


            <!-- NOUVELLE IMAGE -->
            <div class="form-row my-5">
              <input type="file" name="img_nom" id="file" class="input-file" value="{{ infos.img_nom }}">
              <label for="file" class="btn btn-tertiary js-labelFile">
                <i class="icon fa fa-check"></i>
                <span class="js-fileName">Sélectionner une image...</span>
              </label>
            </div>
          </div>

        </div>


        <!--MESSAGE-->
         <div class="form-row col-12 p-2">
           <label for="description">Texte de l'annonce</label>
           <textarea class="form-control" rows="5" name="description" value="{{ infos.description }}" id="description" required >{{ infos.description }}</textarea>
           <span id="textMess"></span>
         </div>


       <!--reCAPTCHA-->
       <div class="g-recaptcha mt-2" data-sitekey="6LcsqcUZAAAAAB2ybVOK-_XyJ3zbi25Yvdb2KeMq" data-callback="verifyCaptcha"></div>
       <div id="g-recaptcha-error"></div>
       <div class="form-row text-center">
          <div class="col-12">
            <button id="formButton" type="submit" name="submit" class="btn btn-primary">Déposer mon annonce</button>
          </div>
        </div>

    </form>

  </div>
</div>

</main>

{% endblock content %}


{% block footer %}
<footer>

</footer>
{% endblock footer %}

{% block javascript %}
{{ parent() }}
{% endblock javascript %}
